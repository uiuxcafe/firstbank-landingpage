{"version":3,"sources":["../../src/index.ts","../../src/useTypewriter.ts","../../src/typeWriter.ts","components/Option/OptionTalkingText.tsx"],"names":["_a","intervalRef","react_1","useRef","strRef","TypeWritter","TextGroup","styled","Styles","OptionTextWrapper","Card","OptionTextCard","Img","OptionTextImg","Metrics","tablet","TextArea","OptionTextTextArea","Text","Fonts","optionText","OptionTalkingText","props","useState","text","setText","text_2","setText_2","typeDone","setTypeDone","useEffect","typing","setTimeout","useTypewriter","typing_2","useTypewriterTwo","className","src","portrait","portrait_2"],"mappings":"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","file":"static/js/2.6d8981da.chunk.js","sourcesContent":["\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar useTypewriter_1 = require(\"./useTypewriter\");\nexports.default = useTypewriter_1.default;\n//# sourceMappingURL=index.js.map","// \"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar typeWriter_1 = require(\"./typeWriter\");\nvar writter = new typeWriter_1.default();\nfunction useTypeWritterTwo(str) {\n    var _a = react_1.useState(null), word = _a[0], setWord = _a[1];\n    var intervalRef = react_1.useRef({});\n    var strRef = react_1.useRef({});\n    react_1.useEffect(function () {\n        strRef.current = setTimeout(() => {setWord(writter.startTypeWord(str));;}, 0)\n    }, [str]);\n    react_1.useEffect(function () {\n        intervalRef.current = setInterval(function () {\n            setWord(writter.typing());\n        }, writter.rd());\n        return function clear() {\n            clearInterval(intervalRef.current);\n        };\n    }, [word]);\n    return word;\n}\nexports.default = useTypeWritterTwo;\n//# sourceMappingURL=useTypewriter.js.map","\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TypeWritter = /** @class */ (function () {\n    function TypeWritter() {\n        this.dummyQueue = [];\n        this.eventQueue = [];\n        // this.initTaskQueue()\n    }\n    TypeWritter.prototype.restartTypeWriter = function () {\n        this.dummyQueue = [];\n        this.memoWord = this.nextWord;\n        this.eventQueue = this.nextWord ? this.nextWord.split('') : [];\n        this.erasing = false;\n        return '';\n    };\n    /**\n     * Main process function\n     * typing\n     *    |-- writing\n     *    |-- erasing\n     *    |-- restartWrite\n     *\n     * @returns\n     * @memberof TypeWritter\n     */\n    TypeWritter.prototype.typing = function () {\n        // earsing to last character, start write next word\n        if (this.erasing && !this.word) {\n            return this.restartTypeWriter();\n        }\n        // earsing\n        if (this.erasing && this.word) {\n            return this.erase();\n        }\n        // write end\n        if (this.word === this.memoWord) {\n            return this.word;\n        }\n        // writing\n        var el = this.eventQueue.shift();\n        this.dummyQueue.push(el);\n        this.word = this.dummyQueue.join('');\n        return this.word;\n    };\n    TypeWritter.prototype.startTypeWord = function (str) {\n        this.dummyQueue = [];\n        this.erasing = true;\n        this.nextWord = str;\n        this.dummyQueue.pop();\n        this.word = this.dummyQueue.join('');\n        return this.word;\n    };\n    TypeWritter.prototype.erase = function () {\n        this.dummyQueue = [];\n        this.word = this.dummyQueue.join('');\n        return this.word;\n    };\n    TypeWritter.prototype.rd = function () {\n        var r = Math.random();\n        return r > 0.1 || r < 0.07\n            ? this.rd()\n            : r * 1000;\n    };\n    return TypeWritter;\n}());\nexports.default = TypeWritter;\n//# sourceMappingURL=typeWriter.js.map","import React, {useState, useEffect}  from 'react'\nimport styled from 'styled-components'\nimport { IOptionTalkingText } from '../../types/index';\nimport { Metrics, Fonts, Styles } from '../../Themes'\nimport useTypewriter from \"../../hook/react-typewriter-hook\"\nimport useTypewriterTwo from \"../../hook/react-typewriter-hookTwo\"\n\nconst TextGroup = styled(Styles.OptionTextWrapper())`\n`\nconst Card = styled(Styles.OptionTextCard())`\n    .show{\n        opacity: 1;\n        transition: 0.8s cubic-bezier(0.2,0.8,0.2,1);\n    }\n    @media all and (-ms-high-contrast: none), (-ms-high-contrast: active){\n        .second{\n            -ms-grid-row: 2\n        }\n    }\n`\nconst Img = styled(Styles.OptionTextImg())`\n    margin: 0 10px 0 32px ;\n    opacity: 0;\n    width: 52px;\n    &:first-child{\n        margin: 40px 10px 0 32px ;\n    }\n    @media (max-width: ${Metrics.tablet}){\n        &:first-child{\n            margin: 16px ;\n        }\n    }\n    @media all and (-ms-high-contrast: none), (-ms-high-contrast: active){\n        &.second{\n            margin: 0 0 40px 32px\n        }\n    }\n    @media (max-width: ${Metrics.tablet}) and (-ms-high-contrast: none), (-ms-high-contrast: active){\n        &.second{\n            margin: 16px;\n        }\n    }\n`\nconst TextArea = styled(Styles.OptionTextTextArea())`\n    margin-bottom: 10px;\n    opacity: 0;\n    &:last-child{\n        margin: 0px 10px 0 32px ;\n    }\n    @media (max-width: ${Metrics.tablet}){\n        margin: 0;\n        padding-bottom: 0px;\n        &:last-child{\n            margin: 0 ;\n        }\n    }\n    @media (max-width: ${Metrics.tablet}) and (-ms-high-contrast: none), (-ms-high-contrast: active){\n        margin: 0 16px 0 10px;\n        &.second{\n            margin: 0 16px 16px 10px;\n        }\n    }\n`\n\nconst Text = styled(Fonts.optionText())`\n`\n\nconst OptionTalkingText = (props: IOptionTalkingText) => {\n    const [ text, setText ] = useState('')\n    const [ text_2, setText_2 ] = useState('')\n    const [ typeDone, setTypeDone ] = useState(false)\n\n    useEffect(() => {\n    \n        setText(`${props?.text}`)\n        if( typing ===`${props?.text}` ){\n            setTimeout(() => {\n                setText_2(`${props?.text_2}`)\n                setTypeDone(true)\n            ;}, 800)\n        }else {\n            setTypeDone(false)\n            setText_2(``)\n        }\n        if(!`${props?.text_2}`){\n            setTypeDone(false)\n        }\n    })\n\n    const typing = useTypewriter(text)\n    const typing_2 = useTypewriterTwo(text_2)\n    \n    return (\n        <TextGroup>\n            <Card>\n                <Img className='show' src={props?.portrait} />\n                <TextArea className='show'>\n                    <Text>{typing}</Text>\n                </TextArea>\n                <Img className={typeDone?'show':''} src={props?.portrait_2} />\n                <TextArea className={typeDone?'show':''}>\n                    <Text>{typing_2}</Text>\n                </TextArea>\n            </Card>\n        </TextGroup>\n    )\n}\n\nexport default OptionTalkingText\n"],"sourceRoot":""}